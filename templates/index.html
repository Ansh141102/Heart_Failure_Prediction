<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Failure Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="bg-animation">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <div class="container">
        <header class="app-header">
            <div class="header-main">

                <!-- ‚úÖ Logo + Title Section -->
                <div class="logo-title-wrapper">
                    <img src="{{ url_for('static', filename='logoAI.png') }}" class="app-logo" alt="Heart AI Logo">

                    <div>
                        <p class="eyebrow">AI Health Assistant</p>
                        <h1>Heart Failure Prediction</h1>
                        <p class="subtitle">
                            Get a quick, AI-assisted risk estimate based on standard clinical measurements.
                        </p>
                    </div>
                </div>

                <!-- ‚úÖ Badges Section (Unchanged) -->
                <div class="header-badges">
                    <div class="badge">
                        <span>‚ö°</span>
                        <div>
                            <p class="badge-title">Instant Result</p>
                            <p class="badge-text">Takes just a few seconds</p>
                        </div>
                    </div>
                    <div class="badge">
                        <span>üîí</span>
                        <div>
                            <p class="badge-title">Privacy First</p>
                            <p class="badge-text">No login, no sign-up</p>
                        </div>
                    </div>
                    <div class="badge">
                        <span>üìä</span>
                        <div>
                            <p class="badge-title">Batch Mode</p>
                            <p class="badge-text">Upload CSV for multiple patients</p>
                        </div>
                    </div>
                </div>

            </div>


            <div class="helper-strip">
                <div class="helper-item">
                    <span class="helper-icon">‚ÑπÔ∏è</span>
                    <p>Use actual values from reports (BP, cholesterol, etc.) for meaningful output.</p>
                </div>
                <div class="helper-item">
                    <span class="helper-icon">‚öïÔ∏è</span>
                    <p>This tool is for education & screening support only ‚Äî it does not replace a doctor.</p>
                </div>
            </div>
        </header>

        <div class="card-container">
            <!-- Manual Input Form -->
            <div class="card">
                <div class="card-header">
                    <h2>Manual Assessment</h2>
                    <p class="card-subtitle">
                        Fill in one patient‚Äôs details to generate a personalized heart failure risk estimate.
                    </p>
                </div>

                <div class="chip-row">
                    <button type="button" class="preset-chip" data-preset="low">
                        üü¢ Sample: Low Risk
                    </button>
                    <button type="button" class="preset-chip" data-preset="medium">
                        üü° Sample: Moderate Risk
                    </button>
                    <button type="button" class="preset-chip" data-preset="high">
                        üî¥ Sample: High Risk
                    </button>
                </div>

                <form id="predictionForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Age</label>
                            <input type="number" name="Age" required min="1" max="120" placeholder="e.g., 54">
                        </div>
                        <div class="form-group">
                            <label>Sex</label>
                            <select name="Sex" required>
                                <option value="M">Male</option>
                                <option value="F">Female</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Chest Pain Type</label>
                            <select name="ChestPainType" required>
                                <option value="ASY">Asymptomatic (ASY)</option>
                                <option value="NAP">Non-Anginal Pain (NAP)</option>
                                <option value="ATA">Atypical Angina (ATA)</option>
                                <option value="TA">Typical Angina (TA)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Resting BP (mm Hg)</label>
                            <input type="number" name="RestingBP" required min="50" max="250" placeholder="e.g., 130">
                        </div>
                        <div class="form-group">
                            <label>Cholesterol (mm/dl)</label>
                            <input type="number" name="Cholesterol" required min="0" max="600" placeholder="e.g., 220">
                        </div>
                        <div class="form-group">
                            <label>Fasting BS &gt; 120 mg/dl?</label>
                            <select name="FastingBS" required>
                                <option value="0">No</option>
                                <option value="1">Yes</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Resting ECG</label>
                            <select name="RestingECG" required>
                                <option value="Normal">Normal</option>
                                <option value="LVH">Left Ventricular Hypertrophy</option>
                                <option value="ST">ST-T Wave Abnormality</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Max Heart Rate</label>
                            <input type="number" name="MaxHR" required min="60" max="220" placeholder="e.g., 150">
                        </div>
                        <div class="form-group">
                            <label>Exercise Angina?</label>
                            <select name="ExerciseAngina" required>
                                <option value="N">No</option>
                                <option value="Y">Yes</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Oldpeak (ST Depression)</label>
                            <input type="number" step="0.1" name="Oldpeak" required min="-5" max="10"
                                placeholder="e.g., 1.2">
                        </div>
                        <div class="form-group">
                            <label>ST Slope</label>
                            <select name="ST_Slope" required>
                                <option value="Flat">Flat</option>
                                <option value="Up">Up</option>
                                <option value="Down">Down</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-footer">
                        <button type="submit" class="btn-primary" id="predictBtn">
                            Predict Risk
                        </button>
                        <p class="form-disclaimer">
                            Your data is processed only for this prediction and is not stored on the server.
                        </p>
                    </div>
                </form>

                <div id="manualResult" class="result-box hidden"></div>
            </div>

            <!-- File Upload -->
            <div class="card side-card">
                <div class="card-header">
                    <h2>Batch Prediction (CSV)</h2>
                    <p class="card-subtitle">
                        Upload a CSV file to analyze heart failure risk for multiple patients at once.
                    </p>
                </div>

                <form id="uploadForm">
                    <div class="file-drop-area">
                        <span class="file-msg">Drag &amp; drop or click to select a CSV file</span>
                        <input type="file" name="file" class="file-input" accept=".csv" required>
                    </div>
                    <button type="submit" class="btn-secondary" id="uploadBtn">
                        Analyze File
                    </button>
                </form>

                <div class="csv-hint">
                    <h3>Required CSV Columns</h3>
                    <ul>
                        <li>Age, Sex (M/F), ChestPainType (ASY/NAP/ATA/TA)</li>
                        <li>RestingBP, Cholesterol, FastingBS (0/1)</li>
                        <li>RestingECG, MaxHR, ExerciseAngina (Y/N)</li>
                        <li>Oldpeak, ST_Slope (Up/Flat/Down)</li>
                    </ul>
                    <p class="csv-note">Header names should match exactly for best results.</p>
                </div>

                <div class="legend-panel">
                    <h3>Risk Level Guide</h3>
                    <div class="legend-row">
                        <span class="legend-dot legend-low"></span>
                        <span>0‚Äì30% &mdash; Low Risk</span>
                    </div>
                    <div class="legend-row">
                        <span class="legend-dot legend-medium"></span>
                        <span>31‚Äì60% &mdash; Moderate Risk</span>
                    </div>
                    <div class="legend-row">
                        <span class="legend-dot legend-high"></span>
                        <span>61‚Äì100% &mdash; High Risk</span>
                    </div>
                </div>

                <div id="uploadResult" class="result-box hidden"></div>
            </div>
        </div>

        <footer class="app-footer">
            <p>‚ö† This tool does not provide a medical diagnosis or emergency advice. In case of symptoms, contact a
                doctor immediately.</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>